<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Simple Game Graphics Library: Building your Project with SGG</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extra.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="libicon.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Simple Game Graphics Library
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Building your Project with SGG </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="using_sgg_windows"></a>
Windows (Visual Studio 2019)</h1>
<p>You can choose to develop your project in Visual Studio or through the command line. Keep in mind that the library is only provided for <b>64 bit</b> systems. All the steps below assume the <code>x64</code> Visual Studio configuration.</p>
<h2><a class="anchor" id="using_sgg_windows_vs"></a>
Setting up a Visual Studio project that uses SGG</h2>
<p>There are 3 important things that a project requires in order to use SGG.</p>
<ul>
<li>At <b>compile time</b>, it needs to know where to find the <code><a class="el" href="graphics_8h.html">graphics.h</a></code> and <code><a class="el" href="scancodes_8h_source.html">scancodes.h</a></code> which contain the API of the SGG library.</li>
<li>At <b>compile time</b>, it needs to know where it can find the <code>sgg.lib</code> or <code>sggd.lib</code> that contain the implementation of the API.</li>
<li>At <b>runtime</b> it needs to have the dynamically linked library dependencies (.dll) in the same directory as the executable file in order to be able to load them successfully.</li>
</ul>
<p>Let's create a Visual Studio project with a sample project that uses SGG. Let's call it <code>Demo</code>.</p>
<p>1) We create an Empty Project. We save the solution in whichever place on our computer we want. Visual Studio initially uses the same name for both the Solution and the Project. By default, Visual Studio creates a <code>Demo</code> directory for our solution and within it, a <code>Demo</code> directory for our Project.</p>
<p>2) We add to the <code>Demo</code> project a source file that will hold the main function. Let's call it <code>Main.cpp</code>. Copy the code provided in <a class="el" href="page_simple_app.html">A Simple Example</a> to <code>Main.cpp</code>.</p>
<p>3) It's time to properly setup the dependencies.</p>
<p>3.1) In our <b>Solution Directory</b> (<code>Demo</code>), create two folders, <code>include</code> and <code>lib</code>.</p>
<p><code>include</code> will hold the header files for SGG and <code>lib</code> the sgg library.</p>
<p>3.2) From the <code>sgg</code> folder in the downloaded files, copy <code><a class="el" href="graphics_8h.html">graphics.h</a></code> and <code><a class="el" href="scancodes_8h_source.html">scancodes.h</a></code> into the <code>include</code> folder of our Solution.</p>
<p>3.3) Similarly, copy all the files from the <code>lib</code> folder that was created when we built the SGG library (<a class="el" href="page_building_sgg.html">Building SGG</a>) to the <code>lib</code> folder in our Solution directory.</p>
<p>3.4) Right click on the project and select properties. First, we set the <code>Additional Include Directories</code>, under <code>C/C++ -&gt; General</code>, to have the <code>include</code> path from the solution. This can be done by setting <code>$<code></code>(SolutionDir)\include</code>.</p>
<p>3.5) Then, for the libraries, under <code>Linker -&gt; General</code>, we set the <code>Additional Library Directories</code> to have the <code>lib</code> path from our solution. This can be done by setting <code>$<code></code>(SolutionDir)\lib</code>.</p>
<p>3.6) In the <code>Linker -&gt; Input</code>, under <code>Additional Dependencies</code> we must include the name of the SGG library. For the <code>Release</code> configuration we should use <code>sgg.lib</code> and for the <code>Debug</code> configuration we should use <code>sggd.lib</code>. The input should look something like this <code>sgg.lib;kernel32.lib;user32.lib;...</code></p>
<p>If we try to run our application it will compile successfully but before it starts, it will show an error about failing to find certain <code>.dll</code> files. These are the runtime dependencies we described above.</p>
<p>3.7) After building, our solution directory contains a folder named <code>x64</code>. Inside, there are folders for <code>Debug</code> and <code>Release</code> builds of our project depending on which one we chose. Our application executable is in here and for it to be able to find the required <code>.dll</code>s we need to copy them in here. This needs to be done both for the <code>Release</code> and the <code>Debug</code> folder. Copy <b>all the contents</b> (.dll files) from the <code>3rdparty\bin</code> folder to both the <code>x64\Release</code> and the <code>x64\Debug</code> folder. Our application will now be able to use them.</p>
<p>3.8) By default when running our program from within Visual Studio, the executable looks for files inside the Project's directory. This can be validated if we go to the properties of our Project and look under <code>Debugging</code>. The working directory is set to <code>$<code></code>(ProjectDir)</code>. This practically means that when our executable tries to open external files (music, pictures, fonts e.t.c.), it will always look relative to this directory. Our sample code expects to find several files within an <code>assets</code> folder. Therefore, our last action is to copy the <code>assets</code> folder into the Project's folder.</p>
<p>After all the above steps, we have correctly configured our Visual Studio Project to use the SGG library. We are ready to develop our game within Visual Studio!</p>
<h2><a class="anchor" id="using_sgg_windows_cmd"></a>
Compiling an application that uses SGG from the command line</h2>
<p>First we need to set up the environment for using the MSVC compiler. In a command console, execute the script located in:</p>
<p><code>C:\Program Files (x86)\Microsoft Visual Studio\2019\Community\VC\Auxiliary\Build\vcvars64.bat</code></p>
<p>Execute <code>cl /?</code> to make sure your environment is set up.</p>
<p>After that, we are ready to use the MSVC compiler.</p>
<p>First, we <code>cd</code> to the directory of the SGG library. There, we create a directory named <code>bin</code> that will hold our executable:</p>
<p><code>mkdir bin</code></p>
<p>Then, we can build the <b>Release</b> version of the demo application with</p>
<p><code>cl /EHsc /O2 /MD /Isgg demo/demo.cpp /link /LIBPATH:lib /SUBSYSTEM:CONSOLE /MACHINE:X64 sgg.lib /OUT:bin/demo.exe</code></p>
<p>and the <b>Debug</b> version of the demo application with</p>
<p><code>cl /EHsc /Zi /MDd /DEBUG /D"_DEBUG" /Isgg demo/demo.cpp /link /LIBPATH:lib /SUBSYSTEM:CONSOLE /MACHINE:X64 sggd.lib /OUT:bin/demod.exe</code></p>
<p>The demo requires a few assets(images, sounds, fonts e.t.c.) at runtime which can be founnd in <code>3rdparty</code>. Manually copy the <code>assets</code> folder to the <code>bin</code> directory so that our executable can find them when it runs.</p>
<p>We also require the dynamically linked libraries for our 3rd party libraries. These can be found in <code>3rdparty\bin</code>. Copy <b>all the contents</b>(.dll files) of the <code>3rdparty\bin</code> folder to the <code>bin</code> directory we previously created. Our application will now be able to use them.</p>
<p>Finally to run the program, change directory to <code>bin</code> with:</p>
<p><code>cd bin</code></p>
<p>and execute</p>
<p><code>demo.exe</code></p>
<p>or</p>
<p><code>demod.exe</code></p>
<p>There is also a script named <code>build_demo_x64.bat</code> that automatically executes the above steps for convenience. For your project, feel free to use or customize this build script according to your needs.</p>
<h1><a class="anchor" id="using_sgg_linux"></a>
Linux (GCC)</h1>
<p>The following commands should be executed in the top directory of the downloaded files.</p>
<p>First, create a <code>bin</code> directory that will hold our executable:</p>
<p><code>mkdir bin</code></p>
<p>The command to compile the <code>demo</code> sample for <code>Release</code> should look like this:</p>
<p><code>g++ -O2 -Llib -Isgg demo/demo.cpp -lsgg -lGL -lGLEW -lSDL2 -lSDL2_mixer -lfreetype -o bin/demo</code></p>
<p>and for <code>Debug</code></p>
<p><code>g++ -Og -g -Llib -Isgg demo/demo.cpp -lsggd -lGL -lGLEW -lSDL2 -lSDL2_mixer -lfreetype -o bin/demod</code></p>
<p>The demo requires a few assets(images, sounds, fonts e.t.c.) at runtime which can be found in <code>3rdparty</code>. Manually copy the <code>assets</code> folder to the <code>bin</code> directory so that our executable can find it when it runs.</p>
<p>Finally to run the program, change directory to <code>bin</code> with:</p>
<p><code>cd bin</code></p>
<p>and execute</p>
<p><code>./demo</code></p>
<p>or</p>
<p><code>./demod</code></p>
<p>There is also a script named <code>build_demo_x64.sh</code> that automatically executes the above steps for convenience. For your project, feel free to use or customize this build script according to your needs.</p>
<p>The library is very simple to use. The first thing to do is to include the <a class="el" href="graphics_8h.html">graphics.h</a> header file into your code (see supplementary example code): </p><div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="graphics_8h.html">graphics.h</a>&quot;</span></div>
</div><!-- fragment --><p>All necessary functions are declared in the "graphics" namespace, so you need to either use the fully qualified function names or add: </p><div class="fragment"><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacegraphics.html">graphics</a></div>
</div><!-- fragment --> </div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="ttc" id="agraphics_8h_html"><div class="ttname"><a href="graphics_8h.html">graphics.h</a></div></div>
<div class="ttc" id="anamespacegraphics_html"><div class="ttname"><a href="namespacegraphics.html">graphics</a></div></div>
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Thu Oct 7 2021 14:04:34 for Simple Game Graphics Library by&#160;<a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20
</small></address>
</body>
</html>
